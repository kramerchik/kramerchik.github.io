<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="/common/css/style.css">
    <link rel="stylesheet" href="/common/css/micromodal.css">
    <script src="/common/js/micromodal.min.js"></script>
    <script src="/common/js/utils.js"></script>

    <title>Рапорт об инциденте - SFPD</title>
</head>

<body>
    <div class="form" style="border: 1px solid #0F283E; padding: 10px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);">
        <table width="100%">
            <tbody>
                <tr>
                    <td style="vertical-align: top; width:26%; padding-right:15px; color: rgb(0, 0, 0);">
                        <div align="left"> <img src="/htmlforms/lspd disabled/sfpd_logo.png" height="170" width="150" class="" alt=""><br></div>
                    </td>
                    <div align="center">
                    </div>
                    <td style="vertical-align: centered_text; width:100%;  color: rgb(0, 0, 0); ">
                        <div align="right"><span style="font-size: 20px;">Станция Гарвер<br>База данных происшествий<br><span style="font-weight: bold; font-size: 25px;">Рапорт об инциденте</span> </span> </div>
                    </td>
                    <td style="vertical-align: top; width:26%; padding-left:10px;"> <br>
                        <div align="right"><span style="font-size: 85%; line-height: 116%; color: #0F283E;">
                            </span></div>
                    </td>
                </tr>
            </tbody>
        </table>
        <div style="border-bottom: 1px solid #0F283E; padding: 1px;"></div> <br>
        <div style="padding: 2px; background-color: #0F283E;"><span><span style="color: #FFFFFF">
            <div align="center">ВАРИАНТ ИНЦИДЕНТА</div>
        </span></span></div>
        <div style="border: 1px solid #000; padding: 5px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"><span style="color: #000000">
                <table width="100%">
                    <tbody>
                        <tr>
                                <input type="checkbox" class="checkbox" name="accept1" /><span style="font-size: 90%; line-height: 116%;"> УБИЙСТВО</span>
                            </td>
                        </tr><br>
                        <tr>
                            <input type="checkbox" class="checkbox" name="accept2" /><span style="font-size: 90%; line-height: 116%;"> УНИЧТОЖЕНИЕ ИМУЩЕСТВА</span>
                        </td><br>
                        <tr>
                            <input type="checkbox" class="checkbox" name="accept3" /><span style="font-size: 90%; line-height: 116%;"> ПРИМЕНЕНИЕ ОРУЖИЯ</span>
                        </td><br>
                    </tr>
                    </tr>
                    </tbody>
                </table><br>
                <tbody>
                    <tr>
                            <input type="checkbox" class="checkbox" name="accept4" /><span style="font-size: 90%; line-height: 116%;"> С ПОСТРАДАВШИМ ОФИЦЕРОМ</span>
                        </td>
                    </tr><br>
                    <tr>
                        <input type="checkbox" class="checkbox" name="accept5" /><span style="font-size: 90%; line-height: 116%;"> С ПОСТРАДАВШИМ ГРАЖДАНСКИМ</span>
                    </td><br></tr>
                </tbody>
            </table>
        </div><br>
        <div style="padding: 2px; background-color: #0F283E;"><span><span style="color: #FFFFFF">
                    <div align="center">ОСНОВНАЯ ИНФОРМАЦИЯ ОБ ИНЦИДЕНТЕ</div>
                </span></span></div>
        <div style="border: 1px solid #000; padding: 5px; background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"><span style="color: #000000">
                <table width="100%">
                    <tbody>
                        <tr>
                            <td style="vertical-align: top; width:33%; padding-right:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Имя пострадавшего:</span><br>
                                <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right:10px"><input type="text" name="suspect_name" placeholder="Заполнить">
                                </div>
                            </td>
                            <td style="vertical-align: top; width:33%; padding-left:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Пол:</span><br>
                                <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><select name="male" style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px">
                                    <option value="Мужской">Мужской</option>
                                    <option value="Женский">Женский</option>
                                </select></div>
                            </td>
                            <td style="vertical-align: top; width:33%; padding-right:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Номер телефона:</span><br>
                                <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><input type="text" name="tel" placeholder="+1 (583) XX-XXXXXX"/></div>
                            </td>
                        </tr>
                    </tbody>
                </table><br>
                <table width="100%">
                    <tbody>
                        <tr>
                            <td style="vertical-align: top; width:50%; padding-right:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Дата рождения:</span><br>
                                <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><input type="text" name="b-day" placeholder="МЕС 11, 2025"/></div>
                            </td>
                            <td style="vertical-align: top; width:50%; padding-left:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Адрес происшествия: </span><br>
                                <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><input type="text" name="locate" placeholder="Постарайтесь указать точную локацию"/></div>
                            </td>
                        </tr>
                    </tbody>
                </table> <br>
                <table width="100%">
                    <tbody>
                        <tr>
                            <td style="vertical-align: top; width:50%; padding-right:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Дата инцидента:</span><br>
                                <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><input type="date" name="date" placeholder="Если человек хочет играть с детективами"/></div>
                            </td>
                            <td style="vertical-align: top; width:50%; padding-left:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Время инцидента:</span><br>
                                <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><input type="time" name="time" placeholder="Постарайтесь указать точную локацию"/></div>
                            </td>
                        </tr>
                    </tbody>
                </table> 
        </div><br>
        
        <div style="padding: 2px; background-color: #0F283E;"><span><span style="color: #FFFFFF">
                <div align="center">ОПИСАНИЕ СИТУАЦИИ</div>
            </span></span></div>
        </span></span>
            <div style="background-color:white; border:1px solid #ccc; color: #555555; padding: 10px"><textarea name="incident_description" placeholder="Полное, подробное описание ситуации" cols="78"></textarea></div> 
            <table width="100%">
                <tbody>
                    <tr>
                        <td style="vertical-align: top; width:50%; padding-right:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">В результате инцидента кто-то получил ранение?</span><br>
                            <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><input type="text" name="300" placeholder="Если нет - оставьте пустым"/></div>
                        </td>
                        <td style="vertical-align: top; width:50%; padding-left:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Требуется ли пострадавшему госпитализация?</span><br>
                            <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><select name="medic" style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px">
                                <option value="Нет">Нет</option>
                                <option value="Да">Да</option>
                            </select></div>
                        </td>
                    </tr>
                </tbody>
            </table> <br>
            <table width="100%">
                <tbody>
                    <tr>
                        <td style="vertical-align: top; width:33%; padding-right:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Офицер, составляющий рапорт:</span><br>
                            <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><input type="text" name="officer" placeholder="Имя, фамилия"/></div>
                        </td>
                        <td style="vertical-align: top; width:33%; padding-left:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Дата составления: </span><br>
                            <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><input type="text" name="date_report" placeholder="МЕС 11, 2025"/></div>
                        </td>
                        <td style="vertical-align: top; width:33%; padding-left:10px;"><span style="font-weight: bold; font-size: 90%; line-height: 116%;">Подпись: </span><br>
                            <div style="background-color:white; color: #555; border:1px solid #ccc; margin-right: 10px"><input type="text" name="podpis" placeholder="http://ссылка.png"/></div>
                        </td>
                    </tr>
                </tbody>
            </table>
            <span style=" font-style: oblique; font-size: 90%; line-height: 116%;">* Оформляйте подписи своих персонажей. Подпись от руки, черного цвета. Прописные буквы. Сайт для получения ссылки: <a href="http://x-lines.ru/" rel="noopener noreferer" target="_blank">http://x-lines.ru/</a></span>

        </div>
       

    <div class="btn-container">
        <button class="modal__btn modal__btn-primary" onclick="showBB()">Generate</button>
        <button class="modal__btn" onclick="window.location.assign('/')">Back</button>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="output_modal" tabindex="-1" role="dialog" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">BBCode для копирования</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="container-fluid">
                <div class="row mb-3">
                    <div class="col-12">
                        <label for="output__header">Topic Name</label>
                    </div>
                    <div class="col-9 col-lg-10">
                        <input type="text" class="form-control" id="output__header">
                    </div>
                    <div class="col-3 col-lg-2">
                        <button class="btn btn-outline-secondary" type="button" data-field="output__header" onclick="copyCode(this)">Copy</button>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-12">
                        <label for="output__body">Report Code</label>
                    </div>
                    <div class="col-9 col-lg-10">
                        <textarea class="form-control" rows="10" id="output__body"></textarea>
                    </div>
                    <div class="col-3 col-lg-2 d-flex align-items-center">
                        <button class="btn btn-outline-secondary" type="button" data-field="output__body" onclick="copyCode(this)">Copy</button>
                    </div>
                </div>
            </div>
          </div>
          <div class="modal-footer">
            <span style=" font-style: oblique; font-size: 90%; line-height: 116%;">* Не забудьте поставить вариант инцидента при отправке рапорта. </span>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" onclick="window.open('https://sfpd.nyc-pd.ru/posting.php?mode=post&f=27')">Create Report</button>
          </div>
        </div>
      </div>
    

    <script>
        function generatePostTitle() {
            var locate = document.getElementsByName("locate")[0].value.toUpperCase();
            var officer = document.getElementsByName("officer")[0].value.toUpperCase();
            var h_output = "[ИНЦИДЕНТ] " + document.getElementsByName("officer") + ", " + document.getElementsByName("locate")[0].innerText;
            h_output = "[ИНЦИДЕНТ] " + officer + ", " + locate;
            return h_output;
        }
        function form2dict(form) {
            var values = form.querySelectorAll('[name]');
            var data = {};
            for (var i = 0; i < values.length; i++) {
                if (values[i].classList.contains('datepicker')) {
                    data[values[i].getAttribute('name')] = values[i].value.toUpperCase() || 'N/A';
                } else if (values[i].type == 'checkbox') {
                    data[values[i].getAttribute('name')] = values[i].checked ? ('X') : '';
                } else if (values[i].type == 'radio') {
                    let name = values[i].getAttribute('name')
                    let res = [].filter.call(document.querySelectorAll(`[name='${name}']`), item => item.checked)
                    if (name == 'education') {
                        if (res.length) {
                            try {
                              if (debilTest()) {
                                data[name] = res[0].labels[0].innerText + "."
                              } else {
                                data[name] = res[0].labels[0].innerText
                              }
                            } 
                            catch(err) {
                              console.log(err.message)
                            }
                        } else {
                          data[name] = 'N/A'
                        }
                    } else {
                        data[name] = (res.length && res[0].labels[0].innerText === 'Да') ? 'X' : ''
                    }
                } else {
                    data[values[i].getAttribute('name')] = values[i].value || values[i].innerText || 'N/A';
                }
            }
            return data;
        }

        MicroModal.init();
        window.__bbcodeurl = '/bbforms/lscsd disabled/incident.txt';
        document.querySelector('[name="name"]').focus();  
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
      <script>!function(e,t,a,n,c,m,r){e.ym=e.ym||function(){(e.ym.a=e.ym.a||[]).push(arguments)},e.ym.l=1*new Date,m=t.createElement(a),r=t.getElementsByTagName(a)[0],m.async=1,m.src="https://mc.yandex.ru/metrika/tag.js",r.parentNode.insertBefore(m,r)}(window,document,"script"),ym(54400579,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})</script>
      <noscript><div><img src='https://mc.yandex.ru/watch/54400579' style='position:absolute;left:-9999px' alt=''></div></noscript>
</body>

</html>